/**
 * AutoLang Lightweight i18n
 * VERSION 1.4.5
 * LICENSE MIT
 * 
 * https://github.com/TheChuan1503/AutoLang
 */
const al={load:function(t=navigator.language,e=this.mode.HTML,a=function(){}){function l(t,e){let a=(e=e.trim()).split(";");if(a.forEach((function(t,e){a[e]=t.trim()})),""===a[a.length-1]&&a.splice(a.length-1,1),1==a.length&&-1==a[0].indexOf(":")){let t={};return t[a[0]]=!1,t}{let t={};return a.forEach((function(e){let a=e.split(":");a.forEach((function(t,e){a[e]=t.trim()})),t[a[0]]=a[1]})),t}}if(!al.lang.hasOwnProperty(t))if("default"==t)t=al.lang.default;else{if(-1!=t.indexOf("-"))var n=t.split("-")[0];else n=t;t=void 0!==al.lang.default_country&&al.lang.default_country.hasOwnProperty(n)?al.lang.default_country[n]:al.lang.default}var r=Object.keys(al.lang[t]);if(void 0!==al.lang.default){var i=Object.keys(al.lang[al.lang.default]);if(r!==i)for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&(al.lang[t][i[e]]=al.lang[al.lang.default][i[e]],r=Object.keys(al.lang[t]))}for(var o=0;o<r.length;o++){var s=al.lang[t][r[o]];al.lang[t][r[o]]=s.replace(/(?<!\\)((?:\\\\)*)\$\{([^}]*)}/g,(function(t,e,a){return e+Function('"use strict";return ('+a+")").call()})).replace(/(?<!\\)((?:\\\\)*)\{([^}]*)}/g,(function(e,a,l){return a+al.lang[t][l.trim()]})).replace(/\\((?:\\\\)*)(\{[^}]*})/g,(function(t,e,a){return e+a}))}if(e!==al.mode.REPLACE){document.querySelectorAll("[al-aplto]").forEach((function(e){let n=l(0,e.getAttribute("al-aplto"));if(!1!==n[Object.keys(n)[0]]&&void 0!==n[Object.keys(n)[0]])return Object.keys(n).forEach((function(a){al._setAttr(e,a,al.lang[t][n[a]])})),void a()}));for(o=0;o<r.length;o++)document.querySelectorAll('[al="'+r[o]+'"]').forEach((function(a){let n=a.getAttribute("al-aplto");if(null!=n){let e=l(0,n);!1===e[Object.keys(e)[0]]&&al._setAttr(a,Object.keys(e)[0],al.lang[t][r[o]])}else if("input"==a.tagName.toLowerCase())a.value=al.lang[t][r[o]];else if(e===al.mode.TEXT)a.innerText=al.lang[t][r[o]];else a.innerHTML=al.lang[t][r[o]]}));a()}else{document.querySelectorAll("[al-aplto]").forEach((function(e){let a=l(0,e.getAttribute("al-aplto"));!1!==a[Object.keys(a)[0]]&&void 0!==a[Object.keys(a)[0]]&&Object.keys(a).forEach((function(l){let n=new RegExp(a[l],"gi");al._setAttr(e,l,al._getAttr(e,l).replace(n,al.lang[t][a[l]]))}))}));for(var o=0;o<r.length;o++)document.querySelectorAll("[al]").forEach((function(e){let a=new RegExp(r[o],"gi"),n=e.getAttribute("al-aplto");if(null!=n){let i=l(0,n),s=Object.keys(i)[0];!1===i[s]&&al._setAttr(e,s,al._getAttr(e,s).replace(a,al.lang[t][r[o]])),al._setAttr(e,n,al._getAttr(e,n).replace(a,al.lang[t][r[o]]))}else"input"==e.tagName.toLowerCase()?e.value=e.value.replace(a,al.lang[t][r[o]]):e.innerHTML=e.innerHTML.replace(a,al.lang[t][r[o]])}));a()}},setLangPropPath:function(t){t.endsWith("/")||(t+="/"),this.langPropPath=t},setLangProp:function(t,e=function(){},a={}){if(Array.isArray(t))1==a.url&&"string"==typeof t[0]?this._(t,0,(function(t){al.setLangProp(t,e,a)}),a.yaml):(t.forEach((function(t){al.lang[t.language]=t.data})),e(this.lang));else if("object"==typeof t)void 0===t.default&&(t.default=this.lang.default),this.lang=t,e(this.lang);else if(1==a.yaml)this.setLangProp(jsyaml.load(t),e,a);else if(0==a.yaml)this.setLangProp(JSON.parse(t),e,a);else try{this.setLangProp(jsyaml.load(t),e,a)}catch{this.setLangProp(JSON.parse(t),e,a)}},setDefault:function(t){this.lang.default=t},setDefaultCountry:function(t){this.lang.default_country=t},release:function(){al.lang={},al._p=[]},httpGet:function(t,e=function(){}){var a=new XMLHttpRequest;a.onreadystatechange=function(){4==this.readyState&&e(this.responseText,this.status)},a.open("GET",t,!0),a.send()},_p:[],_:function(t,e,a,l){if(e>=t.length)return a(this._p),void(this._p=[]);this.httpGet(this.langPropPath+t[e],(function(n){if(1==l)al._p.push(jsyaml.load(n));else if(0==l)al._p.push(JSON.parse(n));else try{al._p.push(jsyaml.load(n))}catch{al._p.push(JSON.parse(n))}al._(t,e+1,a,l)}))},_setAttr:function(t,e,a){t[e]=a,t.setAttribute(e,a)},_getAttr:function(t,e){return void 0!==t[e]?t[e]:t.getAttribute(e)},langPropPath:"",ver:[16,"1.4.5"],mode:{HTML:0,TEXT:1,TEXT_ALL:2,REPLACE:3},lang:{default:"zh-CN"}};