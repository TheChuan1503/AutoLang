/**
 * AutoLang Lightweight i18n
 * VERSION 1.4.1
 * LICENSE MIT
 * 
 * https://github.com/TheChuan1503/AutoLang/
 */
 const al={load:function(l=navigator.language,mode=this.mode.HTML,callback=function(){}){if(-1===Object.keys(al.lang).indexOf(l))if("default"==l)l=al.lang.default;else{if(-1!=l.indexOf("-"))var c=l.split("-")[0];else var c=l;l=null!=al.lang.default_country&&-1!=Object.keys(al.lang.default_country).indexOf(c)?al.lang.default_country[c]:al.lang.default}var text=Object.keys(al.lang[l]);if(void 0!==al.lang.default){var defaultText=Object.keys(al.lang[al.lang.default]);if(text!==defaultText)for(let t=0;t<defaultText.length;t++)-1==text.indexOf(defaultText[t])&&(al.lang[l][defaultText[t]]=al.lang[al.lang.default][defaultText[t]],text=Object.keys(al.lang[l]))}for(var i=0;i<text.length;i++){var p=al.lang[l][text[i]];al.lang[l][text[i]]=p.replace(/(?<!\\)((?:\\\\)*)\$\{([^}]*)}/g,(function(a,s,n){return s+String(eval(n))})).replace(/(?<!\\)((?:\\\\)*)\{([^}]*)}/g,(function(t,e,a){return e+al.lang[l][a.trim()]})).replace(/\\((?:\\\\)*)(\{[^}]*})/g,(function(t,e,l){return e+l}))}if(mode!==al.mode.REPLACE){for(var i=0;i<text.length;i++)document.querySelectorAll('[al="'+text[i]+'"]').forEach((function(t){let e=t.getAttribute("al-aplto");if(null!=e)t.setAttribute(e,al.lang[l][text[i]]);else if("input"==t.tagName.toLowerCase())t.value=al.lang[l][text[i]];else if(mode===al.mode.TEXT)t.innerText=al.lang[l][text[i]];else t.innerHTML=al.lang[l][text[i]]}));callback()}else{for(var i=0;i<text.length;i++)document.querySelectorAll("[al]").forEach((function(t){let e=new RegExp(text[i],"gi"),a=t.getAttribute("al-aplto");null!=a?t.setAttribute(a,t.getAttribute(a).replace(e,al.lang[l][text[i]])):"input"==t.tagName.toLowerCase()?t.value=t.value.replace(e,al.lang[l][text[i]]):t.innerHTML=t.innerHTML.replace(e,al.lang[l][text[i]])}));callback()}},setLangProp:function(t,e=function(){},l={}){if(t instanceof Array)1==l.url&&"string"==typeof t[0]?this._(t,0,(function(t){al.setLangProp(t,e,l)}),l.yaml):(t.forEach((function(t){al.lang[t.language]=t.data})),e(this.lang));else if("object"==typeof t)void 0===t.default&&(t.default=this.lang.default),this.lang=t,e(this.lang);else if(1==l.yaml)this.setLangProp(jsyaml.load(t),e,l);else if(0==l.yaml)this.setLangProp(JSON.parse(t),e,l);else try{this.setLangProp(jsyaml.load(t),e,l)}catch{this.setLangProp(JSON.parse(t),e,l)}},setDefault:function(t){this.lang.default=t},setDefaultCountry:function(t){this.lang.default_country=t},release:function(){al.lang={},al._p=[]},httpGet:function(t,e=function(){}){var l=new XMLHttpRequest;l.onreadystatechange=function(){4==this.readyState&&e(this.responseText,this.status)},l.open("GET",t,!0),l.send()},_p:[],_:function(t,e,l,a){if(e>=t.length)return l(this._p),void(this._p=[]);this.httpGet(t[e],(function(n){if(1==a)al._p.push(jsyaml.load(n));else if(0==a)al._p.push(JSON.parse(n));else try{al._p.push(jsyaml.load(n))}catch{al._p.push(JSON.parse(n))}al._(t,e+1,l,a)}))},ver:[12,"1.4.1"],mode:{HTML:0,TEXT:1,TEXT_ALL:2,REPLACE:3},lang:{default:"zh-CN"}};