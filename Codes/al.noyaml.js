/**
 * AutoLang Lightweight i18n
 * VERSION 1.3.4
 * LICENSE MIT
 * 
 * https://github.com/TheChuan1503/AutoLang/
 */
const al={load:function(l=navigator.language,mode=this.mode.HTML,callback=function(){}){if(-1===Object.keys(al.lang).indexOf(l))if("default"==l)l=al.lang.default;else{if(-1!=l.indexOf("-"))var c=l.split("-")[0];else var c=l;l=null!=al.lang.default_country&&-1!=Object.keys(al.lang.default_country).indexOf(c)?al.lang.default_country[c]:al.lang.default}for(var text=Object.keys(al.lang[l]),i=0;i<text.length;i++){var p=al.lang[l][text[i]];al.lang[l][text[i]]=p.replace(/(?<!\\)((?:\\\\)*)\$\{([^}]*)}/g,(function(a,s,n){return s+String(eval(n))})).replace(/(?<!\\)((?:\\\\)*)\{([^}]*)}/g,(function(t,e,a){return e+al.lang[l][a]})).replace(/\\((?:\\\\)*)(\{[^}]*})/g,(function(l,t,e){return t+e}))}if(mode!==al.mode.REPLACE){for(var i=0;i<text.length;i++)document.querySelectorAll('[al="'+text[i]+'"]').forEach((function(t){switch(mode){case al.mode.HTML:t.innerHTML=al.lang[l][text[i]];break;case al.mode.TEXT:t.innerText=al.lang[l][text[i]];break;default:t.innerHTML=al.lang[l][text[i]]}}));callback()}else{for(var i=0;i<text.length;i++)document.querySelectorAll("[al]").forEach((function(t){let e=new RegExp(text[i],"gi");t.innerHTML=t.innerHTML.replace(e,al.lang[l][text[i]])}));callback()}},setLangProp:function(l,t=function(){},e={}){if(l instanceof Array)1==e.url&&"string"==typeof l[0]?this._(l,0,(function(l){al._l(l),al.setLangProp(l,t,e),al._p=[]}),e.yaml):(l.forEach((function(l){al.lang[l.language]=l.data})),al._p=[],t(this.lang));else if("object"==typeof l)void 0===l.default&&(l.default=this.lang.default),this.lang=l,t(this.lang);else if(1==e.yaml)this.setLangProp(jsyaml.load(l),t,e);else if(0==e.yaml)this.setLangProp(JSON.parse(l),t,e);else try{this.setLangProp(jsyaml.load(l),t,e)}catch{this.setLangProp(JSON.parse(l),t,e)}},setDefault:function(l){this.lang.default=l},setDefaultCountry:function(l){this.lang.default_country=l},httpGet:function(l,t=function(){}){var e=new XMLHttpRequest;e.onreadystatechange=function(){4==this.readyState&&t(this.responseText,this.status)},e.open("GET",l,!0),e.send()},_p:[],_:function(l,t,e,a){if(console.log(l),t>=l.length)return this._l(this._p),void e(this._p);al._l(l[t]),this.httpGet(l[t],(function(n){if(1==a)al._p.push(jsyaml.load(n));else if(0==a)al._p.push(JSON.parse(n));else try{al._p.push(jsyaml.load(n))}catch{al._p.push(JSON.parse(n))}al._(l,t+1,e,a)}))},_l:console.log,ver:[10,"1.3.4"],mode:{HTML:0,TEXT:1,TEXT_ALL:2,REPLACE:3},lang:{default:"zh-CN"}};