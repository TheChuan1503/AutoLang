/**
 * AutoLang Lightweight i18n
 * VERSION 1.4.3
 * LICENSE MIT
 * 
 * https://github.com/TheChuan1503/AutoLang/
 */
const al={load:function(t=navigator.language,e=this.mode.HTML,l=function(){}){function a(t,e){let l=(e=e.trim()).split(";");if(l.forEach((function(t,e){l[e]=t.trim()})),""===l[l.length-1]&&l.splice(l.length-1,1),1==l.length&&-1==l[0].indexOf(":")){let t={};return t[l[0]]=!1,t}{let t={};return l.forEach((function(e){let l=e.split(":");l.forEach((function(t,e){l[e]=t.trim()})),t[l[0]]=l[1]})),t}}if(!al.lang.hasOwnProperty(t))if("default"==t)t=al.lang.default;else{if(-1!=t.indexOf("-"))var n=t.split("-")[0];else n=t;t=void 0!==al.lang.default_country&&al.lang.default_country.hasOwnProperty(n)?al.lang.default_country[n]:al.lang.default}var r=Object.keys(al.lang[t]);if(void 0!==al.lang.default){var i=Object.keys(al.lang[al.lang.default]);if(r!==i)for(let e=0;e<i.length;e++)-1==r.indexOf(i[e])&&(al.lang[t][i[e]]=al.lang[al.lang.default][i[e]],r=Object.keys(al.lang[t]))}for(var o=0;o<r.length;o++){var u=al.lang[t][r[o]];al.lang[t][r[o]]=u.replace(/(?<!\\)((?:\\\\)*)\$\{([^}]*)}/g,(function(t,e,l){return e+Function('"use strict";return ('+l+")").call()})).replace(/(?<!\\)((?:\\\\)*)\{([^}]*)}/g,(function(e,l,a){return l+al.lang[t][a.trim()]})).replace(/\\((?:\\\\)*)(\{[^}]*})/g,(function(t,e,l){return e+l}))}if(e!==al.mode.REPLACE){document.querySelectorAll("[al-aplto]").forEach((function(e){let n=a(0,e.getAttribute("al-aplto"));if(!1!==n[Object.keys(n)[0]]&&void 0!==n[Object.keys(n)[0]])return Object.keys(n).forEach((function(l){al._setAttr(e,l,al.lang[t][n[l]])})),void l()}));for(o=0;o<r.length;o++)document.querySelectorAll('[al="'+r[o]+'"]').forEach((function(l){let n=l.getAttribute("al-aplto");if(null!=n){let e=a(0,n);!1===e[Object.keys(e)[0]]&&al._setAttr(l,Object.keys(e)[0],al.lang[t][r[o]])}else if("input"==l.tagName.toLowerCase())l.value=al.lang[t][r[o]];else if(e===al.mode.TEXT)l.innerText=al.lang[t][r[o]];else l.innerHTML=al.lang[t][r[o]]}));l()}else{document.querySelectorAll("[al-aplto]").forEach((function(e){let l=a(0,e.getAttribute("al-aplto"));!1!==l[Object.keys(l)[0]]&&void 0!==l[Object.keys(l)[0]]&&Object.keys(l).forEach((function(a){let n=new RegExp(l[a],"gi");al._setAttr(e,a,al._getAttr(e,a).replace(n,al.lang[t][l[a]]))}))}));for(var o=0;o<r.length;o++)document.querySelectorAll("[al]").forEach((function(e){let l=new RegExp(r[o],"gi"),n=e.getAttribute("al-aplto");if(null!=n){let i=a(0,n),u=Object.keys(i)[0];!1===i[u]&&al._setAttr(e,u,al._getAttr(e,u).replace(l,al.lang[t][r[o]])),al._setAttr(e,n,al._getAttr(e,n).replace(l,al.lang[t][r[o]]))}else"input"==e.tagName.toLowerCase()?e.value=e.value.replace(l,al.lang[t][r[o]]):e.innerHTML=e.innerHTML.replace(l,al.lang[t][r[o]])}));l()}},setLangProp:function(t,e=function(){},l={}){if(t instanceof Array)1==l.url&&"string"==typeof t[0]?this._(t,0,(function(t){al.setLangProp(t,e,l)}),l.yaml):(t.forEach((function(t){al.lang[t.language]=t.data})),e(this.lang));else if("object"==typeof t)void 0===t.default&&(t.default=this.lang.default),this.lang=t,e(this.lang);else if(1==l.yaml)this.setLangProp(jsyaml.load(t),e,l);else if(0==l.yaml)this.setLangProp(JSON.parse(t),e,l);else try{this.setLangProp(jsyaml.load(t),e,l)}catch{this.setLangProp(JSON.parse(t),e,l)}},setDefault:function(t){this.lang.default=t},setDefaultCountry:function(t){this.lang.default_country=t},release:function(){al.lang={},al._p=[]},httpGet:function(t,e=function(){}){var l=new XMLHttpRequest;l.onreadystatechange=function(){4==this.readyState&&e(this.responseText,this.status)},l.open("GET",t,!0),l.send()},_p:[],_:function(t,e,l,a){if(e>=t.length)return l(this._p),void(this._p=[]);this.httpGet(t[e],(function(n){if(1==a)al._p.push(jsyaml.load(n));else if(0==a)al._p.push(JSON.parse(n));else try{al._p.push(jsyaml.load(n))}catch{al._p.push(JSON.parse(n))}al._(t,e+1,l,a)}))},_setAttr:function(t,e,l){t[e]=l,t.setAttribute(e,l)},_getAttr:function(t,e){return void 0!==t[e]?t[e]:t.getAttribute(e)},ver:[15,"1.4.4"],mode:{HTML:0,TEXT:1,TEXT_ALL:2,REPLACE:3},lang:{default:"zh-CN"}};